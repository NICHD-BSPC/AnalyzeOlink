% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/helpers.R
\name{sync_se_to_metadata}
\alias{sync_se_to_metadata}
\title{Sync a SummarizedExperiment to the samples present in its metadata$long_data}
\usage{
sync_se_to_metadata(
  se,
  add_cols = NULL,
  metadata_key = "long_data",
  id_col = "SampleID",
  strict = TRUE,
  drop_unused_levels = TRUE
)
}
\arguments{
\item{se}{A \link[SummarizedExperiment]{SummarizedExperiment}.}

\item{add_cols}{Character vector of column names to copy from
\code{metadata(se)[[metadata_key]]} into \code{colData(se)}. Columns not found
are skipped with a warning. Defaults to \code{NULL} (copy none).}

\item{metadata_key}{Name of the element in \code{metadata(se)} that holds the
long-format table. Default: \code{"long_data"}.}

\item{id_col}{Column in \code{long_data} that identifies samples/SE columns.
Default: \code{"SampleID"}.}

\item{strict}{When \code{TRUE} (default), error if any \code{SampleID}s found
in \code{long_data} are missing from \code{colnames(se)}. When \code{FALSE},
silently drop missing IDs.}

\item{drop_unused_levels}{Drop unused factor levels in \code{colData} after sync.
Default: \code{TRUE}.}
}
\value{
The updated \code{SummarizedExperiment} with:
\itemize{
\item Columns (samples) subset/reordered to match \code{long_data[[id_col]]}.
\item \code{colData} augmented with \code{add_cols}, preserving factor levels
from \code{long_data}.
}
}
\description{
After you finish creating/updating \code{metadata(se)$long_data} for a contrast,
call this to make the \strong{count data (assays)} and \strong{colData} reflect
exactly the samples in the updated metadata, in the same order. Optionally copy
newly created columns (e.g., \code{treatment_1}, \code{PatientID}) from \code{long_data}
into \code{colData}.
}
